<?php
/**
 * Celebros (C) 2023. All Rights Reserved.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish correct extension functionality.
 * If you wish to customize it, please contact Celebros.
 */

use Celebros\ConversionPro\Helper\Data as Helper;
use Celebros\ConversionPro\Helper\Search as SearchHelper;
use Magento\Framework\View\Element\Template;

/** @var Template $block */
/** @var Helper $helper */
$helper = $this->helper('\Celebros\ConversionPro\Helper\Data'); ?>
<?php /** @var SearchHelper $sHelper */
$sHelper = $this->helper('\Celebros\ConversionPro\Helper\Search'); ?>
<script type="text/x-magento-init">
{
    "*": {
        "conversionpro/filters" : {
            "filters": {
                "multiselect" : {
                    "status": <?php echo $helper->toJsBool($helper->isMultiselectEnabled()) ?>,
                    "selectors": {
                        "checkboxSelector": ".filter-options-content .item input[type='checkbox']",
                        "hlinkSelector": ".filter-options-content .item a"
                    },
                    "options": {}
                },
                "collapse" : {
                    "status": <?php echo $helper->toJsBool($helper->isCollapsed()) ?>,
                    "selectors": {
                        "mainSelector": ".items"
                    },
                    "options": {
                        "collapsedQty" : <?php echo (int) $helper->collapseQty() ?>
                    }
                },
                "search": {
                    "status" : <?php echo $helper->toJsBool($helper->isFilterSearchEnabled()) ?>,
                    "selectors": {
                        "filtersList": "#narrow-by-list .filter-options-content",
                        "ignoredClasses": [".swatch-attribute", ".celebros-price-layered", ".celebros-range-layered"]
                    },
                    "options": {
                        "minSearchFilterQty" : <?php echo (int) $helper->getMinQtyForFilterSearch() ?>
                    }
                }
            }
        }
    },
    "[data-role=celebros-range-inputs], [data-role=celebros-price-inputs]": {
        "Celebros_ConversionPro/js/filter/range-inputs": {
        }
    },
    "[data-role=celebros-range-slider], [data-role=celebros-price-slider]": {
        "Celebros_ConversionPro/js/filter/range-slider": {
        }
    }
}
</script>
