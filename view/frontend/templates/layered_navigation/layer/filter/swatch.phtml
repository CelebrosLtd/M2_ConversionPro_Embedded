<?php
/**
 * Celebros (C) 2023. All Rights Reserved.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish correct extension functionality.
 * If you wish to customize it, please contact Celebros.
 */
declare(strict_types=1);

use Celebros\ConversionPro\Block\LayeredNavigation\Navigation\FilterRenderer;
use Celebros\ConversionPro\Helper\Data as Helper;
use Magento\Catalog\Model\Layer\Filter\Item;

/** @var Item[]  $filterItems */
/** @var string  $requestVar filter request variable name */
/** @var FilterRenderer $block */
/** @var Helper $helper */
$helper = $this->helper('\Celebros\ConversionPro\Helper\Data') ?>
<div class="swatch-attribute swatch-layered <?php echo $requestVar ?>">
    <div class="swatch-attribute-options clearfix">
    <?php foreach ($filterItems as $key => $filterItem): ?>
    <?php if ($filterItem->getCount() > 0): ?>
        <?php if ($filterItem->getSwatchImage()): ?>
        <?php $style = $filterItem->getSwatchImage() != '#' ? "background-image: url('" . $filterItem->getSwatchImage() . "');" : "background: " . $filterItem->getLabel() . ";"; ?>
        <a href="<?php echo $block->escapeUrl($filterItem->getUrl()) ?>">
            <div class="swatch-option image<?php if ($filterItem->isSelected()): ?> checked<?php endif; ?>" style="<?php echo $style ?>"></div>
        </a>
        <?php endif; ?>
    <?php endif; ?>
    <?php endforeach ?>
    </div>
</div>
